title: 10种当代软件开发中 over-engineering 的错误套路
date: 2016-08-15
tags:
- over-engineering

# 10种当代软件开发中 over-engineering 的错误套路

* 套路1：攻城狮自认为比业务人员聪明

	长话短说：别和业务争，他们是赢定了的
	
* 套路2：过度复用业务逻辑

	长话短说：不要搞组合共享，要隔离
	
* 套路3：任何东西都要 Generic

	长话短说：错误的抽象比重复还要糟糕
	
	如果要做合理的抽象，适度的重复是必须的，因为只有我们从足够多的重复中总结的抽象才是好抽象（别一开始没多少重复就着急搞抽象）。抽象的质量，往往是系统里最薄弱的一环。 
	
	正经提示：在微服务之间搞抽象简直是灾难，会导致分布式巨无霸怪胎产生	

* 套路4：影子封装器（Wrapper）

	话短说：写 Wrapper 属于意外事件，不要当作常态。不要为了封装而封装

	温馨提示：不是开玩笑，有人就是想搞能「海纳百川」的 Wrapper，理由就是，可以随时更换实现库啊！这是一种病，参照后文中的「可X性」套路
	
* 套路5：用工具思维对待质量问题

	长话短说：别迷恋细节，要从大局出发
	
	长话短说：相同的概念在不同的领域有不同的含义。不要见得风就是雨，拿着锤子眼里只有钉子

	在别的领域，要学会说人话。好的开发者要靠这个混。新瓶装老酒是行不通的。永远不要以套用概念的名义把设计搞乱。		
	
* 套路6：Adopter 狂热症

	* 	无处不在的泛型。这个世道上，HelloWorldPrinter 都要写成 HelloWorldPrinter< String, Writer >
	* 	无处不在的策略模式。连 if 都想用策略模式来做。
	* 	无处不在的 DSL。想用 DSL重写所有东西。
	* 	喜欢用 Mock。测试时任何东西都想 mock 一下。
	* 	元编程好屌，什么地方都搞一搞。
	* 	枚举好屌，扩展方法好屌，Traits好屌，好屌好屌，用起来！
	
	这是不对的！
	
	如果问题明显能用普通的方法、专门的数据类型来解决，就不要乱搞泛型。
	
* 痴迷「可…性」

	* 可配置性
	* 可伸缩性
	* 可维护性
	* 可扩展性
	* ……	
	
	长话短说：不要对「可…性」的痴迷坐视不管。要清晰地定义问题场景/用例/需求/解法
	
* 套路8：不务正业的 「玩具小发明」

	从头开始做东西总是让人感觉良好。但是这些东西很快就没人用了。
	
	不要忘了：

	* 熟悉问题域不是一件轻松的事，要花大量的精力和技巧。一个成功的 Service Runner 库是建立在对 daemon work、进程管理和I/O等等的专业知识深入了解的基础上的。一个 CMS 也不是显示几个字段那么简单，这些字段有内在的联系，还要校验、向导、适配显示等问题要解决。一个看起来很简单、就只做 「重试」这么一件事的程序库，事实上也不是那么容易做好的。
	* 维护这些个玩具库需要持续花费时间和精力。再小的开源库要维持运转也是一个容易的事情。
	* 就算把这些东西开源了，除了你自己和那些要靠它们吃饭的人，不会再有别人去看的。
	* 那帮人开源了这些东西，心满意足地在简历里写上「XXX创始人」之后，一般就会慢慢撒手不管了。
	* 维护当前的东西需要在当下花时间。但是创造新东西是在透支未来的时间。（译者注：向未来的人借时间债）

	长话短说：复用已有的！复制优秀的！学会贡献！学会三思！

	最后，如果真要不得不去做一些超前的事，要带着创业心态去做。要和现有的同行竞争。要争取内部同事的信任和支持。不要觉得都是自己人就无所作为，把一切看作理所当然了。		
	
	
* 套路9：安于现状

	一个健康的系统应该是持续演进的。不健康的系统特色就是一直在修修补补。如果一块代码很久都没人提交了，说明这块代码已经开始变臭了。系统的每一部分都要与时俱进。
	
	长话短说：重构是每天日常工作的一部分。没有什么代码是不能改的。
	
* 套路10：胡乱估计

	长话短说：还没写代码之前，错误的估计就能毁了工程质量
			
		

## 参考

* [10种当代软件开发中 over-engineering 的错误套路](http://mp.weixin.qq.com/s?__biz=MzIxMzUzMjQ5MA==&mid=2247483651&idx=1&sn=44794b24c8240b48318ca66c694d240e&scene=0#wechat_redirect)
* [原文](https://medium.com/@rdsubhas/10-modern-software-engineering-mistakes-bc67fbef4fc8#.j1limd6we?sukey=3997c0719f151520439ff5b334099d828621114ad30ff36df8c14b16e23ea6b1a96f06cb339aeba31b1493609826ee1d)