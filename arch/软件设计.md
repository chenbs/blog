# 软件设计

学习[软件设计是怎样炼成的？](http://blog.csdn.net/u010825142/article/category/1429725)的总结。

## 总结

### 软件开发一般流程

1. 需求分析
	做出一份系统功能的需求文档，清楚列出系统的大模块和小模块，相关界面和功能
	
2. 概要设计

	对系统的基本处理流程、组织结构、模块划分、功能分配、接口设计、数据结构设计和出错处理等。
	
3. 详细设计

	描述具体模块设计的算法、数据结构、类的层次和调用关系，需要说明各个层次模块设计考虑

4. 编码
	
5. 测试
	
	按照测试执行方：内部测试和外部测试。按照测试范围：模块测试和整体联调。按照测试条件：正常测试和异常测试。按照测试输入范围：全覆盖测试和抽样测试。
	
6. 软件交付

	安装程序，《用户安装手册》、《用户使用指南》
7. 验收
8. 维护

### 软件设计

软件设计是软件开发流程中步骤1-3.

根据<http://blog.csdn.net/u010825142/article/category/1429725>的作者观点得出：

#### 第一点：需求分析考虑

1）什么人会使用这个系统？

> 从业务的角度来审视可能存在的user
	
2）不同的人将会使用这个系统的什么功能？

> 不同的user通过本系统分别可做的事情（功能）
> 
> 不同user的关系，比如：继承
	
**1，2中的user的关系和可用功能通过UML图画出来**	
	
3）还有哪些不确定或不具体的需求点？

> 针对UML图种的各种功能考虑不同的业务场景和特殊情况，得出需求点或不确定点

4）哪些需求对技术提出了怎样的要求？

> 列出每个需求点选择相关的技术方案，考虑工作量和方案的难易（稳定性、扩展性、发展性：如某框架的社区活跃度）
	
5）系统的大致架构应该如何考虑？

> 需要你全面考虑需求，考虑工期限制预算限制，考虑项目组人员的水平，而做出的一种平衡。
> 
> 表达系统架构时，用UML的部署图、组件图和包图是比较合适的。我们设计的系统多数是分布式系统，不是单机系统，用部署图来表达分布式系统的架构设计可能是比较合适的。

#### 第二三点：概要设计和详细设计 

概要设计和详细设计的更落地描述：

* 架构设计：近似于概要设计，其实也可以叫“概要设计”，但我觉得“架构设计”这个词可能更合适。架构设计需要通盘考虑需求后，从宏观上规划系统的各个部分以及各个部分的关系。
* 数据库设计：对需求中的业务概念进行系统分析后，设计出表和表关系、视图等数据库元素。
* 模块设计：类似于详细设计，通常详细设计是一个文档，但模块设计文档可以有多个。架构设计将系统划分成多个模块，模块设计就是针对某些或某个模块的具体设计了。
* 用户体验设计：用户体验是指用户使用软件时的整体感觉，用户体验设计需要考虑清楚软件的整体界面规划、界面先后关系、文字表达、软件与用户如何交互等等。用户体验设计是“由顶而下”设计思路重要的第一步！


##### 架构设计的方法和经验

软件一般分为4层：

**四层架构**（可用UML的包图（Package Diagram））

1. 四层架构的四层，分别是指：表现层、逻辑层、数据访问层和数据层；
2. 表现层依赖于逻辑层，逻辑层依赖于数据访问层，数据访问层依赖于数据层。

那“依赖”是什么意思呢？“依赖”可以是以下情况之一：

1. A需要调用B的方法，则A依赖于B；
2. A的方法中某些参数的类型是B，则A依赖于B；
3. A的某些方法的返回值类型时B，则A依赖于B。

**层与层之间的数据传递，通常我们会将数据装在实体类中，通过实体类来传递数据。
**

> 实体类通常是一个只有属性没有方法的类，通常我们会将某一业务对象的数据装在一个实体类中。例如：某请假单实体类，该类可能有请假人姓名、请假起止时间、请假类别和请假事由等属性。

**架构设计的方法：自顶向下、自底向上、自中间向上下**

##### 设计拆解

* 第一层拆解：思考系统需要开发什么软件和数据库等；
* 第二层拆解：考虑组件（Component）、代码包、某个分层等等，可能是“物理分拆”也可能是“逻辑分拆”。
* 而详细设计其实就是：
* 第三层拆解：进一步细化出类、类对外接口、类的内部细节等。

通常我会用UML的顺序图（Sequence Diagram）来表达“第三层拆解”

* 除了规划好内部各部分的关系，还需要规划内部的各部分与外部之间的关系。
* 在拆解的过程中，问题会越来越多，也会越来越细，这是正常现象，也是好现象。
* 拆解过程中也可能会发现之前初步架构设计中不合理或遗漏的地方，请马上调整；有时候甚至会发现之前的设计完全不对，那么就要有勇气推翻重做。
* “第二层的的拆解”结果有可能是组件（Component）、代码包、某个分层等等，可能是“物理分拆”也可能是“逻辑分拆”。那么“第二层的拆解”要多细才合适呢？其实很难有固定的标准，给一个简单标准作为参考：如果再拆解下去下一步的拆解就到类了，那么就可以认为目前的拆解粒度比较合适了。细化到类的拆解，可以在模块设计（详细设计）中再进一步考虑。

#### 详细设计实践

* 模块设计
* 代码设计：一些复杂，不好描述的算法之类的
* demo设计

#### 分布式软件设计总结

分布式系统的架构设计要点：

* 1）我们的系统大部分会涉及到多个客户端及服务器，我们需要思考我们的系统需要怎样的客户端及服务器，思考这些设备上面需要安装怎样的操作系统、平台、软件等，思考这些设备需要怎样的硬件配置，如CPU、内存、硬盘大小等等。
* 2）我们需要思考这些客户端及服务器之间的物理联系方式，例如：是局域网方式、互联网，还是两者都支持？是HTTP或是HTTPS？等等。
* 4）思考系统需要开发什么软件和数据库等，这些是第一次对系统各部分的拆分，姑且这叫”第一层的拆解“。
* 5）继续拆解时可参考分层架构，但需要拆分得更加具体，不要犯”放之四海而皆准“的毛病。这个层次的拆解，姑且叫“第二层的拆解”。
* 6）除了规划好内部各部分的关系，还需要规划内部的各部分与外部之间的关系。
* 7）在拆解的过程中，问题会越来越多，也会越来越细，这是正常现象，也是好现象。
* 8）拆解过程中也可能会发现之前初步架构设计中不合理或遗漏的地方，请马上调整；有时候甚至会发现之前的设计完全不对，那么就要有勇气推翻重做。
* 9）“第二层的的拆解”结果有可能是组件（Component）、代码包、某个分层等等，可能是“物理分拆”也可能是“逻辑分拆”。那么“第二层的拆解”要多细才合适呢？其实很难有固定的标准，给一个简单标准作为参考：如果再拆解下去下一步的拆解就到类了，那么就可以认为目前的拆解粒度比较合适了。细化到类的拆解，可以在模块设计（详细设计）中再进一步考虑。



## 实战

### AI设计之需求分析

可能的用户：

    座席：


## 参考

[软件设计是怎样炼成的？](http://blog.csdn.net/u010825142/article/category/1429725)